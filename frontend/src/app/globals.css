@import "tailwindcss";

/* ========================================
   AI 智训 Pro - 双主题系统
   深色模式 (默认) + 浅色模式
======================================== */

/* ========================================
   深色主题变量 (默认)
======================================== */
:root {
  /* 主题标识 */
  --theme: dark;
  
  /* ===== 品牌核心色 ===== */
  --brand-blue: #2563eb;
  --brand-green: #10b981;
  --brand-gradient: linear-gradient(135deg, #2563eb 0%, #10b981 100%);
  --brand-gradient-hover: linear-gradient(135deg, #1d4ed8 0%, #059669 100%);
  --brand-gradient-subtle: linear-gradient(135deg, rgba(37, 99, 235, 0.1) 0%, rgba(16, 185, 129, 0.1) 100%);
  
  /* ===== 背景层次 (纯黑基调) ===== */
  --bg-base: #000000;
  --bg-surface: #0a0a0a;
  --bg-card: #111111;
  --bg-elevated: #171717;
  --bg-hover: #1f1f1f;
  --bg-active: #262626;
  
  /* ===== 边框 ===== */
  --border-subtle: #1a1a1a;
  --border-default: #262626;
  --border-strong: #404040;
  --border-focus: rgba(37, 99, 235, 0.5);
  
  /* ===== 文字 (高对比度) ===== */
  --text-primary: #ffffff;
  --text-secondary: #a3a3a3;
  --text-tertiary: #737373;
  --text-muted: #525252;
  --text-disabled: #404040;
  --text-inverse: #0f172a;
  
  /* ===== 主色 - 蓝色 ===== */
  --primary-50: #eff6ff;
  --primary-100: #dbeafe;
  --primary-200: #bfdbfe;
  --primary-300: #93c5fd;
  --primary-400: #60a5fa;
  --primary-500: #3b82f6;
  --primary-600: #2563eb;
  --primary-700: #1d4ed8;
  --primary-800: #1e40af;
  --primary-900: #1e3a8a;
  
  /* ===== 强调色 - 绿色 ===== */
  --accent-300: #6ee7b7;
  --accent-400: #34d399;
  --accent-500: #10b981;
  --accent-600: #059669;
  --accent-700: #047857;
  
  /* ===== 功能色 ===== */
  --success: #10b981;
  --success-bg: rgba(16, 185, 129, 0.1);
  --warning: #f59e0b;
  --warning-bg: rgba(245, 158, 11, 0.1);
  --error: #ef4444;
  --error-bg: rgba(239, 68, 68, 0.1);
  --info: #3b82f6;
  --info-bg: rgba(59, 130, 246, 0.1);
  
  /* ===== 阴影 ===== */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.5);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.5);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.5);
  --shadow-glow: 0 0 20px rgba(37, 99, 235, 0.15);
  --shadow-glow-green: 0 0 20px rgba(16, 185, 129, 0.15);
  
  /* ===== 玻璃效果 ===== */
  --glass-bg: rgba(17, 17, 17, 0.8);
  --glass-border: rgba(255, 255, 255, 0.08);
  
  /* ===== 卡片微光 ===== */
  --glow-primary: rgba(37, 99, 235, 0.15);
  --glow-accent: rgba(16, 185, 129, 0.1);
  --shimmer-color: rgba(255, 255, 255, 0.03);
  
  /* 兼容旧变量 */
  --background-dark: var(--bg-base);
  --surface-dark: var(--bg-surface);
  --surface-card: var(--bg-card);
  --surface-lighter: var(--bg-elevated);
  --border-dark: var(--border-default);
  --border-color: var(--border-default);
  --blue-100: var(--primary-100);
  --blue-300: var(--primary-300);
  --blue-400: var(--primary-400);
  --blue-500: var(--primary-500);
  --blue-600: var(--primary-600);
  --blue-700: var(--primary-700);
  --blue-900: var(--primary-900);
  --blue-dim: #172554;
  --emerald-400: var(--accent-400);
  --emerald-500: var(--accent-500);
  --emerald-600: var(--accent-600);
  --emerald-dark: var(--accent-700);
}

/* ========================================
   浅色主题变量
======================================== */
.light,
[data-theme="light"] {
  --theme: light;
  
  /* ===== 品牌核心色 (与深色主题一致) ===== */
  --brand-blue: #2563eb;
  --brand-green: #10b981;
  --brand-gradient: linear-gradient(135deg, #2563eb 0%, #10b981 100%);
  --brand-gradient-hover: linear-gradient(135deg, #1d4ed8 0%, #059669 100%);
  --brand-gradient-subtle: linear-gradient(135deg, rgba(37, 99, 235, 0.08) 0%, rgba(16, 185, 129, 0.06) 100%);
  
  /* ===== 背景层次 (纯白基调) ===== */
  --bg-base: #ffffff;
  --bg-surface: #fafafa;
  --bg-card: #ffffff;
  --bg-elevated: #f5f5f5;
  --bg-hover: #f0f0f0;
  --bg-active: #e5e5e5;
  
  /* ===== 边框 ===== */
  --border-subtle: #f5f5f5;
  --border-default: #e5e5e5;
  --border-strong: #d4d4d4;
  --border-focus: rgba(37, 99, 235, 0.5);
  
  /* ===== 文字 (高对比度) ===== */
  --text-primary: #171717;
  --text-secondary: #525252;
  --text-tertiary: #737373;
  --text-muted: #a3a3a3;
  --text-disabled: #d4d4d4;
  --text-inverse: #ffffff;
  
  /* ===== 功能色 (加深对比度) ===== */
  --success: #059669;
  --success-bg: rgba(5, 150, 105, 0.1);
  --warning: #d97706;
  --warning-bg: rgba(217, 119, 6, 0.1);
  --error: #dc2626;
  --error-bg: rgba(220, 38, 38, 0.1);
  --info: #2563eb;
  --info-bg: rgba(37, 99, 235, 0.1);
  
  /* ===== 阴影 ===== */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
  --shadow-glow: 0 0 20px rgba(37, 99, 235, 0.1);
  --shadow-glow-green: 0 0 20px rgba(16, 185, 129, 0.1);
  
  /* ===== 玻璃效果 ===== */
  --glass-bg: rgba(255, 255, 255, 0.8);
  --glass-border: rgba(0, 0, 0, 0.08);
  
  /* ===== 卡片微光 ===== */
  --glow-primary: rgba(37, 99, 235, 0.08);
  --glow-accent: rgba(16, 185, 129, 0.06);
  --shimmer-color: rgba(255, 255, 255, 0.5);
  
  /* 兼容旧变量 */
  --background-dark: var(--bg-base);
  --surface-dark: var(--bg-surface);
  --surface-card: var(--bg-card);
  --surface-lighter: var(--bg-elevated);
  --border-dark: var(--border-default);
  --border-color: var(--border-default);
}

/* ========================================
   Tailwind 主题扩展
======================================== */
@theme inline {
  /* 主色 */
  --color-primary: var(--primary-500);
  --color-primary-50: var(--primary-50);
  --color-primary-100: var(--primary-100);
  --color-primary-200: var(--primary-200);
  --color-primary-300: var(--primary-300);
  --color-primary-400: var(--primary-400);
  --color-primary-500: var(--primary-500);
  --color-primary-600: var(--primary-600);
  --color-primary-700: var(--primary-700);
  
  /* 强调色 */
  --color-accent: var(--accent-500);
  --color-accent-400: var(--accent-400);
  --color-accent-500: var(--accent-500);
  --color-accent-600: var(--accent-600);
  
  /* 语义化背景 */
  --color-bg-base: var(--bg-base);
  --color-bg-surface: var(--bg-surface);
  --color-bg-card: var(--bg-card);
  --color-bg-elevated: var(--bg-elevated);
  --color-bg-hover: var(--bg-hover);
  
  /* 语义化边框 */
  --color-border-subtle: var(--border-subtle);
  --color-border-default: var(--border-default);
  --color-border-strong: var(--border-strong);
  
  /* 语义化文字 */
  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-text-muted: var(--text-muted);
  
  /* 兼容旧变量 */
  --color-blue-100: var(--primary-100);
  --color-blue-300: var(--primary-300);
  --color-blue-400: var(--primary-400);
  --color-blue-500: var(--primary-500);
  --color-blue-600: var(--primary-600);
  --color-blue-700: var(--primary-700);
  --color-blue-900: var(--primary-900);
  --color-blue-dim: #172554;
  --color-emerald-400: var(--accent-400);
  --color-emerald-500: var(--accent-500);
  --color-emerald-600: var(--accent-600);
  --color-emerald-dark: var(--accent-700);
  --color-background-dark: var(--bg-base);
  --color-surface-dark: var(--bg-surface);
  --color-surface-card: var(--bg-card);
  --color-surface-lighter: var(--bg-elevated);
  --color-border-dark: var(--border-default);
  --color-border-color: var(--border-default);
  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-text-muted: var(--text-muted);
  
  /* 字体 */
  --font-display: "Manrope", "Noto Sans SC", system-ui, sans-serif;
  --font-body: "Manrope", "Noto Sans SC", system-ui, sans-serif;
  --font-mono: "JetBrains Mono", monospace;
}

/* ========================================
   全局样式
======================================== */
html {
  scroll-behavior: smooth;
  color-scheme: dark;
}

html.light,
html[data-theme="light"] {
  color-scheme: light;
}

body {
  background: var(--bg-base);
  color: var(--text-primary);
  font-family: "Manrope", "Noto Sans SC", system-ui, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* ========================================
   主题过渡动画
======================================== */
*,
*::before,
*::after {
  transition-property: background-color, border-color, color, fill, stroke, box-shadow;
  transition-duration: 0.2s;
  transition-timing-function: ease;
}

/* 禁用某些元素的过渡 */
.no-transition,
.no-transition *,
input,
textarea,
button,
a {
  transition-property: none;
}

button,
a {
  transition: transform 0.15s ease, box-shadow 0.15s ease, opacity 0.15s ease;
}

/* ========================================
   自定义滚动条
======================================== */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: var(--bg-base);
}

::-webkit-scrollbar-thumb {
  background: var(--border-default);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--primary-500);
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* ========================================
   卡片微光效果
======================================== */

/* 静态微光边框 */
.card-glow {
  position: relative;
  background: var(--bg-card);
  border-radius: 16px;
  overflow: hidden;
}

.card-glow::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(
    135deg,
    var(--glow-primary) 0%,
    var(--glow-accent) 50%,
    var(--glow-primary) 100%
  );
  -webkit-mask: 
    linear-gradient(#fff 0 0) content-box, 
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
}

/* 悬停光晕效果 */
.card-glow-hover {
  transition: all 0.3s ease;
  border: 1px solid var(--border-default);
}

.card-glow-hover:hover {
  border-color: rgba(59, 130, 246, 0.3);
  box-shadow: 
    0 0 30px -5px var(--glow-primary),
    0 0 60px -10px var(--glow-accent);
}

/* 闪光动画 */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.card-shimmer {
  position: relative;
  overflow: hidden;
}

.card-shimmer::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    90deg,
    transparent 0%,
    var(--shimmer-color) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shimmer 8s linear infinite;
  pointer-events: none;
}

/* 鼠标跟随光效 (需要JS配合) */
.card-spotlight {
  --mouse-x: 50%;
  --mouse-y: 50%;
  position: relative;
  overflow: hidden;
}

.card-spotlight::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(
    600px circle at var(--mouse-x) var(--mouse-y),
    var(--glow-primary),
    transparent 40%
  );
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
}

.card-spotlight:hover::before {
  opacity: 1;
}

/* 综合卡片样式 */
.card-premium {
  position: relative;
  background: var(--bg-card);
  border: 1px solid var(--border-default);
  border-radius: 16px;
  overflow: hidden;
  transition: all 0.3s ease;
}

.card-premium::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    135deg,
    transparent 0%,
    var(--shimmer-color) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shimmer 10s linear infinite;
  pointer-events: none;
}

.card-premium:hover {
  border-color: rgba(59, 130, 246, 0.4);
  box-shadow: 
    0 4px 20px -5px rgba(0, 0, 0, 0.3),
    0 0 40px -10px var(--glow-primary);
  transform: translateY(-2px);
}

/* ========================================
   玻璃效果
======================================== */
.glass-panel {
  background: var(--glass-bg);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid var(--glass-border);
  box-shadow: var(--shadow-lg);
}

.glass-effect {
  background: var(--glass-bg);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--glass-border);
}

/* ========================================
   渐变文字
======================================== */
.gradient-text {
  background: linear-gradient(135deg, var(--primary-400), var(--accent-400));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.blue-gradient-text {
  background: linear-gradient(to right, var(--primary-300), var(--primary-500));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.blue-text-gradient {
  background: linear-gradient(to right, var(--primary-400), var(--accent-400));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.text-glow {
  text-shadow: 0 0 20px var(--glow-primary);
}

.text-glow-blue {
  text-shadow: 0 0 15px var(--glow-primary);
}

/* ========================================
   边框渐变
======================================== */
.blue-border-gradient {
  position: relative;
  background: linear-gradient(var(--bg-card), var(--bg-card)) padding-box,
              linear-gradient(to bottom, rgba(59, 130, 246, 0.5), rgba(59, 130, 246, 0.1)) border-box;
  border: 1px solid transparent;
}

.blue-glow {
  box-shadow: var(--shadow-glow);
}

/* ========================================
   动画关键帧
======================================== */
@keyframes wave {
  0%, 100% { height: 15%; }
  50% { height: 75%; }
}

@keyframes glow {
  from { box-shadow: 0 0 10px -5px var(--primary-500); }
  to { box-shadow: 0 0 20px 5px var(--glow-primary); }
}

@keyframes pulse-slow {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

@keyframes drawLine {
  from { stroke-dashoffset: 1000; }
  to { stroke-dashoffset: 0; }
}

@keyframes fadeInScale {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}

.animate-wave { animation: wave 1.2s ease-in-out infinite; }
.animate-glow { animation: glow 2s ease-in-out infinite alternate; }
.animate-pulse-slow { animation: pulse-slow 3s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
.animate-draw { stroke-dasharray: 1000; stroke-dashoffset: 1000; animation: drawLine 2s ease-out forwards; }
.animate-scale { animation: fadeInScale 0.8s ease-out forwards; }

/* ========================================
   渐变背景
======================================== */
.bg-blue-gradient {
  background: linear-gradient(135deg, var(--primary-500) 0%, var(--primary-600) 100%);
  color: #ffffff !important;
}

.bg-emerald-gradient {
  background: linear-gradient(135deg, var(--accent-400) 0%, var(--accent-600) 100%);
  color: #ffffff !important;
}

.bg-dark-gradient {
  background: linear-gradient(to bottom right, var(--bg-card), var(--bg-base));
}

/* ========================================
   选择效果
======================================== */
::selection {
  background: rgba(59, 130, 246, 0.3);
  color: var(--primary-400);
}

/* ========================================
   Material Symbols 图标
======================================== */
.material-symbols-outlined {
  font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
}

.material-symbols-outlined.filled {
  font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24;
}

/* ========================================
   常用组件样式
======================================== */
.card-hover {
  transition: all 0.3s ease;
}

.card-hover:hover {
  border-color: rgba(59, 130, 246, 0.3);
  box-shadow: 0 0 30px -10px var(--glow-primary);
}

.btn-primary {
  background: linear-gradient(135deg, var(--primary-500) 0%, var(--primary-600) 100%);
  color: #ffffff !important;
  font-weight: 600;
  transition: all 0.3s ease;
  box-shadow: 0 0 20px var(--glow-primary);
}

.btn-primary:hover {
  box-shadow: 0 0 25px rgba(59, 130, 246, 0.5);
  transform: translateY(-1px);
}

.input-dark {
  background: var(--bg-card);
  border: 1px solid var(--border-default);
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.input-dark:focus {
  border-color: var(--border-focus);
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
  outline: none;
}

.input-dark::placeholder {
  color: var(--text-muted);
}

/* 全局输入框focus样式 */
input:focus,
textarea:focus,
select:focus {
  outline: none;
  border-color: var(--primary-500) !important;
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2) !important;
}

/* 全局按钮鼠标手型 */
button:not(:disabled),
[role="button"]:not(:disabled),
a[href],
.cursor-pointer {
  cursor: pointer;
}

button:disabled {
  cursor: not-allowed;
}

/* ========================================
   移动端适配
======================================== */
.safe-area-pb { padding-bottom: env(safe-area-inset-bottom, 0); }
.safe-area-pt { padding-top: env(safe-area-inset-top, 0); }

@media (hover: none) and (pointer: coarse) {
  .touch-target { min-height: 44px; min-width: 44px; }
}

@media (max-width: 640px) {
  input, textarea, select { font-size: 16px; }
}

.select-none {
  -webkit-user-select: none;
  user-select: none;
}

@media (max-width: 1024px) {
  .tap-highlight { -webkit-tap-highlight-color: rgba(59, 130, 246, 0.1); }
}

@media (orientation: landscape) and (max-height: 500px) {
  .landscape-compact { padding-top: 0.5rem; padding-bottom: 0.5rem; }
}
